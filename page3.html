<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>0から始めるアンドロイドのモーション制作</title>
    <link rel="icon" href="data:,">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/lightbox.css">     
    <link rel="stylesheet" href="css/atom-one-dark.min.css">    
    <script src="js/lightbox-plus-jquery.js" type="text/javascript"></script>
    <script src="js/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
</head>

<body>
    <div class="header">
        <div class="headline">
            <a href="https://www.atr.jp/" target="_blank" class="logo">
                <img src="img/atr_logo.png" alt="ATR">
            </a>
            <div class="title">
                <a href="page0.html">0から始めるアンドロイドのモーション制作</a>
            </div>
        </div>
        <div class="auther">
            <div class="text">
                <p class="name">久保, 藤木, 安井, 山本</p>
                <p class="date">2025.00.00に更新</p>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="side-menu">
            <div class="menu-contents">
                <div class="hamburger-menu">
                    <button class="toggle-btn">
                        <img src="img/hamburger_menu.png" alt="ハンバーガーメニュー">
                    </button>
                </div>
                <script>
                    // サイドメニュー開閉処理
                    const toggleBtn = document.querySelector('.toggle-btn');
                    const sideMenu = document.querySelector('.side-menu');
                    const sideMenuContents = document.querySelector('.menu-contents');

                    toggleBtn.addEventListener('click', () => {
                        sideMenu.classList.toggle('closed');
                        sideMenuContents.classList.toggle('closed');
                    });
                </script>
                <div class="menu-title">
                    <h2>Contents</h2>
                    <div class="underline-menu"></div>
                </div>                  
                <div class="menu-link">
                    <a href="page0.html">00. ホーム</a>
                    <a href="page1.html">01. 環境構築</a>
                    <a href="page2.html">02. Miracle Human</a>
                </div>     
                <div class="accordion">
                    <button class="accordion-button-1">03. モーションの作成方法</button>
                    <div class="accordion-button-panel">
                        <button class="accordion-button-2">01. HandMotions</button>
                        <div class="accordion-panel-2">
                            <a href="#section3-1-1">01. 各種パラメータについて</a>
                            <a href="#section3-1-2">02. 作成方法</a>
                        </div>
                        <button class="accordion-button-2">02. AngleMotions</button>
                        <div class="accordion-panel-2">
                            <a href="#section3-2-1">01. 各種パラメータについて</a>
                            <a href="#section3-2-2">02. 作成方法</a>
                        </div>
                        <button class="accordion-button-2">03. Facials</button>
                        <div class="accordion-panel-2">
                            <a href="#section3-3-1">01. 各種パラメータについて</a>
                            <a href="#section3-3-2">02. 作成方法</a>
                        </div>
                        <button class="accordion-button-2">04. Actions</button>
                        <div class="accordion-panel-2">
                            <a href="#section3-4-1">01. 各種パラメータについて</a>
                            <a href="#section3-4-2">02. 作成方法</a>
                        </div>
                        <button class="accordion-button-2">
                            05. オブジェクトを利用した</br>
                            <span class="indent">Motion</span>
                        </button>
                        <div class="accordion-panel-2">
                            <a href="#section3-5-1">01. 各種パラメータについて</a>
                            <a href="#section3-5-2">02. オブジェクトの作成方法</a>
                            <a href="#section3-5-3">03. モーションの作成方法</a>
                        </div>
                    </div>
                </div>
                <div class="menu-link">
                    <a href="page4.html">04. チュートリアル</a>
                    <a href="page5.html">05. 事例紹介</a>
                </div>
            </div> 
            <script>
                const buttons_1 = document.querySelectorAll('.accordion-button-1');
                buttons_1.forEach(button => {
                  button.addEventListener('click', () => {
                    const panel = button.nextElementSibling;
                    panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
                  });
                });

                const buttons_2 = document.querySelectorAll('.accordion-button-2');
                buttons_2.forEach(button => {
                  button.addEventListener('click', () => {
                    const panel = button.nextElementSibling;
                    panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
                  });
                });
            </script>              
        </div>
        <div class="main-contents">
            <div class="main-topic">
                <div class="main-topic-block">
                    <div class="section-1 section3" id="section3">
                        <h2>03. モーションの制作方法</h2>
                        <div class="underline-headline-1"></div>
                        <p>
                            この章では、モーションの制作方法をLevelに分けて説明していきます。</br>
                        </p>
                        <div class="line-break"></div>

                        <div class="section-2 section3-1" id="section3-1">
                            <h3>01. HandMotions</h3>
                            <div class="underline-headline-2"></div>
                            <p>
                                ここでは、左右の腕の動作の作成と、それに必要なパラメータの説明を行います。
                            </p>
                            <div class="line-break"></div>
                            <div class="section-3 section3-1-1" id="section3-1-1">
                                <h4>01. 各種パラメータについて</h3>
                                <div class="img">
                                    <a href="img/page3/motion_of_hand.jpg" rel="lightbox"><img src="img/page3/motion_of_hand.jpg"></a></br>
                                </div>
                                <p id="motion_of_hand"></p></br>
                                <script>
                                    function write_simple_parameter(json, id) {
                                        var p = document.getElementById(id);
                                        for (var i = 0; i < json.length; i++) {    
                                            var span = document.createElement('span');
                                            var strong = document.createElement('strong');
                                            var br = document.createElement('br');
                                            if(json[i].Color == 1) {
                                                strong.classList.add("important-parameter");
                                            }
                                            strong.textContent = json[i]["パラメータ名"];
                                            span.append("•");
                                            span.append(strong);
                                            span.append(" - " + json[i]["説明"]);
                                            span.append(br);

                                            p.appendChild(span);
                                        }
                                    }
                                    
                                    fetch('simple_explanation/motion_of_hand.json') // リクエストを送信
                                        .then((response) => response.json())
                                        .then((json) => {
                                            write_simple_parameter(json, "motion_of_hand");
                                    });
                                </script>
                                <div class="img">
                                    <a href="img/page3/motion_hand_data.jpg" rel="lightbox"><img src="img/page3/motion_hand_data.jpg"></a></br>
                                </div>
                                <p id="motion_hand_data"></p></br>
                                <script>
                                    fetch('simple_explanation/motion_hand_data.json') // リクエストを送信
                                        .then((response) => response.json())
                                        .then((json) => {
                                            write_simple_parameter(json, "motion_hand_data");
                                    }); 
                                </script>
                                <div class="img">
                                    <a href="img/page3/finger_data.jpg" rel="lightbox"><img src="img/page3/finger_data.jpg"></a></br>
                                </div>
                                <p id="finger_data"></p></br>
                                <script>
                                    fetch('simple_explanation/finger_data.json') // リクエストを送信
                                        .then((response) => response.json())
                                        .then((json) => {
                                            write_simple_parameter(json, "finger_data");
                                    }); 
                                </script>
                                <div class="img">
                                    <a href="img/page3/ik_joint_data.jpg" rel="lightbox"><img src="img/page3/ik_joint_data.jpg"></a></br>
                                </div>
                                <p id="ik_joint_data"></p></br>
                                <script>
                                    fetch('simple_explanation/ik_joint_data.json') // リクエストを送信
                                        .then((response) => response.json())
                                        .then((json) => {
                                            write_simple_parameter(json, "ik_joint_data");
                                    }); 
                                </script>
                            </div>
                            <div class="section-3 section3-1-2" id="section3-1-2">
                                <h4>02. 作成方法</h3>
                                <p>
                                    既存の動作をコピーしてから<strong>動作部位</strong>を変更しても、期待通りに動きません。
                                    <strong>動作部位</strong>を変更する場合は、画面中央上にある<strong>▶︎</strong>ボタンを押し、停止させてから再度同じボタンを押し、起動し直してください。</br>
                                    また、<strong>Modify to the current position</strong>を押しても見た目は何も変化しません。
                                </p>
                                <div class="line-break"></div>
                                <h5>Level1</h5>
                                <p>
                                    腕全体を使用したモーションの基礎となる作成方法です。</br>
                                    左右の手を操作し、現在の位置から操作後の位置・角度まで動かします。
                                </p>
                                <div class="step">
                                    <p>
                                        1. Hierarchyウィンドウから<strong>HandMotions</strong>を選択し、Inspectorウィンドウをロックします。</br>
                                        2. 既存の動作をコピーし、<strong>名前ID</strong>を変更します。</br>
                                        3. <strong>動作部位名</strong>に<strong>RightHandController</strong>もしくは<strong>LeftHandController</strong>を書き込みます。</br>
                                        4. <strong>動作部位</strong>の右端にある⦿ボタンを押し、3と同名のオブジェクトを選択します。</br>
                                        5. Motion Hand Data内の<strong>名前ID</strong>を変更します。</br>
                                        6. Debug Settingsの<strong>Motion Edit Mode On</strong>をクリックします。</br>
                                        7. Hierarchyウィンドウから<strong>RightHandController</strong>もしくは<strong>LeftHandController</strong>を選択し、</br>
                                        &ensp;&thinsp;&thinsp; Scene画面上で動かしたい位置・角度に動かします。</br>
                                        8. 3で命名したID名に対応する<strong>Modify to the current position</strong>をクリックします。</br>
                                        9. Motion Hand Data内にある<strong>移動速度[m/s]</strong>もしくは<strong>移動時間[msec]</strong>と<strong>姿勢保持時間[msec]</strong>を調整します。</br>
                                        &ensp;&thinsp;&thinsp; その後、<strong>移動軌跡（座標）</strong>と<strong>回転軌跡（角度）</strong>の右にあるグラフを押し、お好みのグラフに変更します。</br>
                                        10. 最後に、manageの<strong>Save to file</strong>をクリックします。
                                    </p>
                                </div>
                                <div class="line-break"></div>

                                <div class="tips" style="width: 85%;">
                                    <div class="tips-outline">
                                        <div class="tips-title">Tips</div>
                                        <p class="tips-text">
                                            ウィンドウをロックするには、以下のように🔒を使用します。</br>
                                            <img style="width: 100%;" src="img/page3/window_rock.jpg">
                                        </p>
                                    </div>
                                </div>
                                <div class="line-break"></div>
                                
                                <h5>Level2</h5>
                                <p>
                                    Level1を発展させ、より複雑な動きを作成します。
                                </p>
                                <div class="step">
                                    <p>
                                        1. Motion Hand Dataの右下にある+ボタンを押し、追加を行います。</br>
                                        2. Motion Hand Data内の<strong>名前ID</strong>を変更します。</br>
                                        3. Level1の5 ~ 10を繰り返し行います。</br>
                                        4. Level2の1 ~ 3を繰り返し行い、モーションの作成を行います。
                                    </p>
                                </div>
                                <div class="line-break"></div>
                                <h5>Level3</h5>
                                <p>
                                    Level1を発展させ、指の動作も追加します。
                                </p>
                                <div class="step">
                                    <p>
                                        1. Motion Hand Data内から<strong>Finger Data</strong> → +ボタンと押します。</br>
                                        2. 追加した要素を押し、<strong>動作部位名</strong>に動かしたい指を<strong>BodyBase_Joint</strong>から選び、書き込みます。</br>
                                        &ensp;&thinsp;&thinsp; （<strong>_Joint</strong>と最後につくもの）。</br>
                                        3. 最後に、manageの<strong>Save to file</strong>をクリックします。
                                    </p>
                                </div>
                                <div class="line-break"></div>
                                <h5>Level4</h5>
                                <p>
                                    Level2を発展させ、人間のように曲線を帯びた動作を作成します。
                                </p>
                                <div class="step">
                                    <p>
                                        1. Level2の通りに、Motion Hand Dataに3つ以上の動作を作成します。</br>
                                        2. 最初と最後以外の動作の、Motion Hand Data内にある<strong>ベジェ曲線の中間点</strong>にチェックします。</br>
                                        3. 2で操作した動作に対応する<strong>Modify to the current position</strong>をクリックします。</br>
                                        4. 最後に、manageの<strong>Save to file</strong>をクリックします。
                                    </p>
                                </div>
                                <div class="line-break"></div>
                                <h5>Level5</h5>
                                <p>
                                    Level3を発展させ、腕の位置・角度を自由に調節します。
                                </p>
                                <div class="step">
                                    <p>
                                        1. Level1の通りに、動作を作成する。</br>
                                        2. 調節したい動作のMotion Hand Data内から<strong>IKにオフセットをかける</strong> → +ボタンと押します。</br>
                                        3. 追加した要素を押し、<strong>動作部位名</strong>に調整したい軸を<strong>BodyBase_Joint</strong>から選び、書き込みます。</br>
                                        &ensp;&thinsp;&thinsp; （<strong>_Joint</strong>と最後につくもの）。</br>
                                        4. <strong>相対角度</strong>を調整します。</br>
                                        5. 最後に、manageの<strong>Save to file</strong>をクリックします。
                                    </p>
                                </div>
                                <div class="line-break"></div>
                                <h5>Level6</h5>
                                <p>
                                    作成した動作を左右反転にします。
                                </p>
                                <div class="step">
                                    <p>
                                        1. 1 ~ 5の通りに、動作を作成する。</br>
                                        2. <strong>swap the all</strong>を押します。</br>
                                        3. 最後に、manageの<strong>Save to file</strong>をクリックします。
                                    </p>
                                </div>
                                <div class="line-break"></div>

                                <div class="section-3 section3-1-3" id="section3-1-3">
                                    <h4>03. モーション制作のコツ</h3>
                                    <h5>【★★★】ベジェ曲線の利用</h5>
                                    <div class="step">
                                        <p>
                                            ベジェ曲線を使用することで丸みを帯びた動作を作ることができ、人間らしさが出る様になる。</br>
                                            以下の様に、id名を1、2、3と名付け、2の<strong>Is Bezier Curve Point</strong>をオンにすると以下の画像のように曲線の移動が可能になります。
                                            ベジェ曲線は連続で何個も使用可能であり、より複雑な曲線移動も可能になっています。
                                        </p>
                                        <div class="img">
                                            <a href="img/page3/bezier.jpg" rel="lightbox"><img src="img/page3/bezier.jpg" style="width: 30%;"></a>
                                        </div>
                                    </div>
                                    <div class="line-break"></div>

                                    <h5>【★★☆】IKオフセットの利用</h5>
                                    <div class="step">
                                        <p>
                                            IKオフセットを使用することで、HandMotionsで作成したモーションにおいて、手の位置をそのままにし、それ以外の腕の各軸の角度を調整することができます。
                                            例えば、右手で心臓を触る動作を作ると脇が開いてしまうため、IKオフセットで<strong>RightScapula_Joint</strong>を使用し、<strong>Target Angle</strong>を調整することで脇を多少締めることができます。
                                        </p>
                                    </div>
                                    <div class="line-break"></div>

                                    <h5>【★★☆】Finger Dataの利用</h5>
                                    <div class="step">
                                        <p>
                                            Finger Dataを使用することでAngleMotionsを使わずにHandMotions内で指の動作を作成することができます。
                                            しかし、Finger Dataで制御した指の動作はHandMotionsの動作再生の最後に行うため、指の移動を細かく制御したい場合はAngleMotionsを使用する必要があります。
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="section-2 section3-2" id="section3-2">
                            <h3>02. AngleMotions</h3>
                            <div class="underline-headline-2"></div>
                            <p>
                                ここでは、各軸ごとのモーション制作と、それに必要なパラメータの説明を行います。
                            </p>
                            <div class="line-break"></div>
                            <div class="section-3 section3-2-1" id="section3-2-1">
                                <h4>01. 各種パラメータについて</h3>
                                <div class="img">
                                    <a href="img/page3/angle_motion.jpg" rel="lightbox"><img src="img/page3/angle_motion.jpg"></a></br>
                                </div>
                                <p id="angle_motion"></p></br>
                                <script>
                                    fetch('simple_explanation/angle_motion.json') // リクエストを送信
                                        .then((response) => response.json())
                                        .then((json) => {
                                            write_simple_parameter(json, "angle_motion");
                                    }); 
                                </script>
                                <div class="img">
                                    <a href="img/page3/angle_data.jpg" rel="lightbox"><img src="img/page3/angle_data.jpg"></a></br>
                                </div>
                                <p id="angle_data"></p></br>
                                <script>
                                    fetch('simple_explanation/angle_data.json') // リクエストを送信
                                        .then((response) => response.json())
                                        .then((json) => {
                                            write_simple_parameter(json, "angle_data");
                                    }); 
                                </script>
                            </div>
                            <div class="section-3 section3-2-2" id="section3-2-2">
                                <h4>02. 作成方法</h3>
                                <p>
                                    既存の動作をコピーしてから<strong>動作部位</strong>を変更しても、期待通りに動きません。<strong>動作部位</strong>を変更する場合は、画面中央上にある<strong>▶︎</strong>ボタンを押し、停止させてから再度同じボタンを押し、起動し直してください。
                                </p>
                                <div class="line-break"></div>
                                <h5>Level1</h5>
                                <p>
                                    各軸でのモーションの基礎となる作成方法です。
                                </p>
                                <div class="step">
                                    <p>
                                        1. Hierarchyウィンドウから<strong>AngleMotions</strong>を選択し、Inspectorウィンドウをロックします。</br>
                                        2. 既存の動作をコピーし、<strong>名前ID</strong>を変更します。</br>
                                        3. Angle Data内の<strong>名前ID</strong>を変更します。</br>
                                        4. <strong>動作部位名</strong>に動かしたい軸を<strong>BodyBase_Joint</strong>から選び、書き込みます。（<strong>_Joint</strong>と最後につくもの）。</br>
                                        5. <strong>動作部位</strong>の右端にある⦿ボタンを押し、3と同名のオブジェクトを選択します。</br>
                                        6. <strong>基礎姿勢からの相対角度[deg]</strong>を調整します。</br>
                                        7. <strong>回転時間[msec]</strong>と<strong>姿勢保持時間[msec]</strong>を調整します。</br>
                                        &ensp;&thinsp;&thinsp; その後、<strong>回転軌跡（角度）</strong>の右にあるグラフを押し、お好みのグラフに変更します。</br>
                                        8. 最後に、<strong>Save to file</strong>をクリックします。
                                    </p>
                                </div>
                                <div class="line-break"></div>
                                <h5>Level2</h5>
                                <p>
                                    Level1を発展させ、より複雑な動きを作成します。
                                </p>
                                <div class="step">
                                    <p>
                                        1. Motion Hand Dataの右下にある+ボタンを押し、追加を行います。</br>
                                        2. Motion Hand Data内の<strong>名前ID</strong>を変更します。</br>
                                        3. Level1の3 ~ 8を繰り返し行います。</br>
                                        4. Level2の1 ~ 3を繰り返し行い、モーションの作成を行います。
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="section-2 section3-3" id="section3-3">
                            <h3>03. Facials</h3>
                            <div class="underline-headline-2"></div>
                            <p>
                                ここでは、表情の制作と、それに必要なパラメータの説明を行います。
                            </p>
                            <div class="line-break"></div>
                            <div class="section-3 section3-3-1" id="section3-3-1">
                                <h4>01. 各種パラメータについて</h3>
                                <div class="img">
                                    <a href="img/page3/facs.jpg" rel="lightbox"><img src="img/page3/facs.jpg"></a></br>
                                </div>
                                <p id="facs"></p></br>
                                <script>
                                    fetch('simple_explanation/facs.json') // リクエストを送信
                                        .then((response) => response.json())
                                        .then((json) => {
                                            write_simple_parameter(json, "facs");
                                    }); 
                                </script>
                                <div class="img">
                                    <a href="img/page3/action_unit.jpg" rel="lightbox"><img src="img/page3/action_unit.jpg"></a></br>
                                </div>
                                <p id="action_unit"></p></br>
                                <script>
                                    fetch('simple_explanation/action_unit.json') // リクエストを送信
                                        .then((response) => response.json())
                                        .then((json) => {
                                            write_simple_parameter(json, "action_unit");
                                    }); 
                                </script>
                            </div>
                            <div class="section-3 section3-3-2" id="section3-3-2">
                                <h4>02. 作成方法</h3>
                                <p>
                                    表情のモーションの基礎となる作成方法です。
                                </p>
                                <div class="step">
                                    <p>
                                        1. Hierarchyウィンドウから<strong>Facials</strong>を選択します。</br>
                                        2. 既存の動作をコピーし、<strong>表情名</strong>を変更します。</br>
                                        3. 次に、<strong>Base FACS</strong> → <strong>Action Unit</strong> → <strong>List</strong> → <strong>Element</strong>と押します。</br>
                                        4. <strong>Key</strong>から動かしたい部位を選び、<strong>Value</strong>を押し、<strong>Value</strong>の値を変更します</br>
                                        5. 最後に、<strong>Save to file</strong>をクリックします。
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="section-2 section3-4" id="section3-4">
                            <h3>04. Actions</h3>
                            <div class="underline-headline-2"></div>
                            <p>
                                ここでは、01 ~ 03で作成したモーションを組み合わせ、1つの動作を作成します。</br>
                                また、それに必要なパラメータの説明を行います。
                            </p>
                            <div class="line-break"></div>
                            <div class="section-3 section3-4-1" id="section3-4-1">
                                <h4>01 各種パラメータについて</h3>
                                <div class="img">
                                    <a href="img/page3/action.jpg" rel="lightbox"><img src="img/page3/action.jpg"></a></br>
                                </div>
                                <p id="action"></p></br>
                                <script>
                                    fetch('simple_explanation/action.json') // リクエストを送信
                                        .then((response) => response.json())
                                        .then((json) => {
                                            write_simple_parameter(json, "action");
                                    }); 
                                </script>
                                <div class="img">
                                    <a href="img/page3/action_id_list.jpg" rel="lightbox"><img src="img/page3/action_id_list.jpg"></a></br>
                                </div>
                                <p id="action_id_list"></p></br>
                                <script>
                                    fetch('simple_explanation/action_id_list.json') // リクエストを送信
                                        .then((response) => response.json())
                                        .then((json) => {
                                            write_simple_parameter(json, "action_id_list");
                                    }); 
                                </script>
                            </div>
                            <div class="section-3 section3-4-2" id="section3-4-2">
                                <h4>02. 作成方法</h3>
                                <p>
                                    Actionsで動作を2つ作成し、それぞれA、Bと命名したとき、Aの動作内でBの動作を使用し、Bの動作内でAの動作を使用すると無限ループに陥ってしまい、動作が終了しなくなります。
                                    Actionsで作成した動作を他のActionsの動作で使用する際は十分注意をして作成してください。
                                </p>
                                <div class="line-break"></div>
                                <h5>Level1</h5>
                                <p>
                                    モーションを組み合わせる基礎的な手順です。
                                </p>
                                <div class="step">
                                    <p>
                                        1. Hierarchyウィンドウから<strong>Actions</strong>を選択します。</br>
                                        2. 既存の動作をコピーし、<strong>名前ID</strong>を変更します。</br>
                                        3. 次に、<strong>Action ID List</strong> → +ボタンと押します。</br>
                                        4. 追加した要素から<strong>Action</strong>を押し、<strong>Action Type</strong>と<strong>Predefined Action</strong>を記入します。</br>
                                        5. <strong>Startdelay</strong>と<strong>Speed Scale</strong>、<strong>Intensity</strong>を調整します。</br>
                                        6. 最後に、<strong>Save</strong>をクリックします。
                                    </p>
                                </div>
                                <div class="line-break"></div>
                                <h5>Level2</h5>
                                <p>
                                    Level1で作成した一連の動作全体を微調整します。
                                </p>
                                <div class="step">
                                    <p>
                                        1. 画面下の<strong>Speed Scale</strong>と<strong>Intensity</strong>を調整します。</br>
                                        2. <strong>Save</strong>をクリックします。
                                    </p>
                                </div>
                                <div class="line-break"></div>
                                <h5>Level3</h5>
                                <p>
                                    Level1で作成した動作の直後に新たな動作をつなげます。
                                </p>
                                <div class="step">
                                    <p>
                                        1. <strong>Action ID List</strong> → <strong>Element</strong> → <strong>Next Actions</strong> → +ボタンと押します。</br>
                                        2. Level1の4 ~ 6を繰り返し行います。</br>
                                        3. 最後に<strong>Save</strong>をクリックします。
                                    </p>
                                </div>
                                <div class="line-break"></div>
                                <h5>Level4</h5>
                                <p>
                                    Actionsで作成した動作をActionsの別の動作内で使用します。
                                </p>
                                <div class="step">
                                    <p>
                                        1. Level1を繰り返し、2つ以上の動作を作成する。</br>
                                        2. Level1を繰り返し、<strong>Predefined Action</strong>にLevel4の1で作成した動作名を記入する。</br>
                                        3. 最後に<strong>Save</strong>をクリックします。
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="section-2 section3-5" id="section3-5">
                            <h3>05. オブジェクトを利用したMotion</h3>
                            <div class="underline-headline-2"></div>
                            <p>
                                この章では、オブジェクトの作り方や、それを用いたモーションの作成方法について見ていきます。
                            </p>
                            <div class="line-break"></div>
                            <div class="section-3 section3-5-1" id="section3-5-1">
                                <h4>01. 各種パラメータについて</h3>
                                <h5>オブジェクトを生成するbatファイル</h5>
                                <div class="bat-block">
                                    <button class="copy-button" id="bat-copy-button" onclick="copy_bat_code()">Copy</button>
                                    <div class="bat" id="bat-code">
                                        <span class="comment">::if not "%~0"=="%~dp0.\%~nx0" (</span><br>
                                        <span class="comment">::    start /min cmd /c,"%~dp0.\%~nx0" %*</span><br>
                                        <span class="comment">::    exit</span><br>
                                        <span class="comment">::)</span><br>
                                        <span class="set-command">set executecommand=java -jar JTCPClient.jar</span><br>
                                        <span class="set-command">set hostName=127.0.0.1</span><br>
                                        <span class="set-command">set portNum=21000</span><br>
                                        <span class="comment">::\n, \sp, \t</span><br>
                                        <span>set command=createobject={\"id\":\"monitor\",\"scale\":{\"x\":1,\"y\":0.5,\"z\":0.05}, \"position\":{\"x\":-1,\"y\":1.3,\"z\":2}, \"rotation\":{\"x\":0,\"y\":90,\"z\":0}, \"color\":{\"r\":100,\"g\":100,\"b\":100,\"a\":128}, \"isLookTarget\":true}\n</span><br>
                                        <span class="set-command">%executecommand% %hostName% %portNum% "%command%"</span><br>
                                        <span class="comment">::pause</span><br>
                                    </div>
                                </div>
                                <script>
                                    function copy_bat_code(){
                                        const code = document.getElementById("bat-code").innerText;
                                        let button = document.getElementById("bat-copy-button")
                                        if(navigator.clipboard){
                                            navigator.clipboard.writeText(code).then(() => {
                                            button.innerText = 'Copied!!!';
                                            setTimeout(() => {
                                                button.innerText = 'Copy'
                                            }, 500)
                                            }).catch(e => {
                                            alert('コピーできませんでした\nお手数ですが手動でコピーしてください\n\n' + e.message)
                                            })
                                        } else{
                                            alert('このブラウザは Clipboard API 非対応です\nお手数ですが手動でコピーしてください')
                                        }
                                    }
                                </script>
                                <p id="bat"></p></br>
                                <script>
                                    fetch('simple_explanation/bat.json') // リクエストを送信
                                        .then((response) => response.json())
                                        .then((json) => {
                                            write_simple_parameter(json, "bat");
                                    }); 
                                </script>
                                <h5>Actionsで使用するコマンド</h5>
                                <pre><code class="html"><p>{"id":"BodyController","motionTowardObject":"Spine","targetMotionMode":2,"tracking":true,"targetPoint":{"x":-5,"y":0,"z":20},"translateTime":1000,"targetRotation":{"x":0.0,"y":0.0,"z":0.0},"rotateSpeed":-1,"rotateTime":1000,"keepTime":0,"mode":2,"gazeTracking":true,"priority":0}</p></code></pre>
                                <script>
                                    (function(d){
                                        const pre = d.querySelectorAll('pre');
                                        if(pre.length == 0){
                                            return
                                        }
                                        for(let i = 0; i < pre.length; i++){
                                            const btn = d.createElement('button');
                                            btn.className = 'copy-button';
                                            btn.textContent = 'Copy';
                                            pre[i].insertBefore(btn, pre[i].firstElementChild);
                                            btn.addEventListener('click', copy_code, false)
                                        }
                                    })(document);

                                    function copy_code(){
                                        const code = this.nextElementSibling.innerText;
                                        const texts = code.split("\n");
                                        let copy_code = "";
                                        for(var i=0; i<texts.length; i++){
                                            copy_code = copy_code + texts[i];
                                        }
                                        if(navigator.clipboard){
                                            navigator.clipboard.writeText(copy_code).then(() => {
                                            this.textContent = 'Copied!!!';
                                            setTimeout(() => {
                                                this.textContent = 'Copy'
                                            }, 500)
                                            }).catch(e => {
                                            alert('コピーできませんでした\nお手数ですが手動でコピーしてください\n\n' + e.message)
                                            })
                                        } else{
                                            alert('このブラウザは Clipboard API 非対応です\nお手数ですが手動でコピーしてください')
                                        }
                                    }
                                </script>
                                <p id="controller"></p></br>
                                <script>
                                    fetch('simple_explanation/controller.json') // リクエストを送信
                                        .then((response) => response.json())
                                        .then((json) => {
                                            write_simple_parameter(json, "controller");
                                    }); 
                                </script>
                            </div>
                            <div class="section-3 section3-5-2" id="section3-5-2">
                                <h4>02. オブジェクトの作成方法</h3>
                                <p>
                                    batファイルを開く際は、ファイルをクリックすると実行してしまうので、エディタに直接ドラック&ドロップなどを行い開く必要があります。
                                    また、batファイルのパラメータにあるx、y、zの座標系はUnity空間上と同じです。
                                </p>
                                <div class="line-break"></div>
                                <div class="step">
                                    <p>
                                        1. <strong>エクスプローラー</strong>を開き、<strong>Miracle Human</strong> → <strong>Release</strong> → <strong>utils</strong>と押してください。</br>
                                        2. Createから始まる.batファイルを好きに選択し、コピー&ペーストとファイル名の変更を行なってください。</br>
                                        3. ペーストしたファイルをメモ帳やMeryなどの<strong>テキストエディタ</strong>もしくは<strong>コードエディタ</strong>で開いてください。</br>
                                        4. <strong>id</strong>にオブジェクト名、<strong>scale</strong>に大きさ、<strong>position</strong>に座標、<strong>rotation</strong>に角度、<strong>color</strong>に色を記入してください。</br>
                                        5. 最後に保存をして終わりです。
                                    </p>
                                </div>
                            <div class="section-3 section3-5-3" id="section3-5-3">
                                <h4>03. モーションの作成方法</h3>
                                <h5>Level1</h5>
                                <p>
                                    生成したオブジェクトに対する両腕のモーション制作を行います。
                                </p>
                                <div class="step">
                                    <p>
                                        1. 作成したbatファイルを実行します。</br>
                                        2. <strong>HandMotions</strong>で、既存の動作のコピーを作成します。</br>
                                        3. <strong>Motion Hand Data</strong> → 要素と開きます。</br>
                                        4. <strong>このオブジェクトに対する動き（主に位置）</strong>に、1で生成したオブジェクト名を記入します。</br>
                                        5. モーションの作成を行います。</br>
                                        4. 最後に保存をして終わりです。
                                    </p>
                                </div>
                                <div class="line-break"></div>
                                <h5>Level2</h5>
                                <p>
                                    Actionsでオブジェクトに対するモーション制作を行います。</br>
                                    4のコマンドは01各種パラメータをご参照ください。</br>
                                </p>
                                <div class="maintable" id ='maintable'></div>
                                <div class="step">
                                    <p>
                                        1. 作成したbatファイルを実行します。</br>
                                        2. <strong>Actions</strong>で、既存の動作のコピーを作成します。</br>
                                        3. <strong>Action ID List</strong> → <strong>Element</strong> → <strong>Action</strong>と開きます。</br>
                                        4. <strong>Action Type</strong>にcontroller、<strong>This Cmd</strong>にコマンドを記入します。 </br>
                                        5. <strong>Predefined Action</strong>以外の要素を記入します。</br>
                                        4. 最後に保存をして終わりです。
                                    </p>
                                </div>
                            </div>
                        </div>
                        <script>
                            lightbox.option({
                            'alwaysShowNavOnTouchDevices': true,
                            'disableScrolling': true,
                            })
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>